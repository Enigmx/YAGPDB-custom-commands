{{$dbsam := (dbGet 0 "swiftAutomod").Value}}
{{if $dbsam}}
{{range (index ($dbsam.Get "configuration") 2)}}
{{if in $.Member.Roles (toInt .)}}
{{return}}
{{end}}
{{end}}
{{if ($dbsam.Get (str .Channel.ID))}}
{{range ($dbsam.Get (str .Channel.ID))}}
{{if in (lower $.Message.Content) (lower .)}}
{{deleteTrigger 0}}
{{break}}
{{else if (and (eq . "[{pics}]") (or ($.Message.Attachments) (reFind $.LinkRegex $.Message.Content)))}}
{{deleteTrigger 0}}
{{break}}
{{else if (and (eq . "[{stickers}]") $.Message.StickerItems)}}
{{deleteTrigger 0}}
{{break}}
{{else if (and (eq . "[{polls}]") (eq $.Message.Type 0) (not (or $.Message.Content $.Message.Activity $.Message.Reference $.Message.MessageSnapshots $.Message.Attachments $.Message.StickerItems)))}}
{{deleteTrigger 0}}
{{break}}
{{else if (and (eq . "[{activity}]") $.Message.Activity)}}
{{deleteTrigger 0}}
{{break}}
{{else if (and (eq . "[{forward}]") $.Message.MessageSnapshots)}}
{{deleteTrigger 0}}
{{break}}
{{end}}
{{end}}
{{end}}
{{end}}
